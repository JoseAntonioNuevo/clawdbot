# Clawdbot Intelligent Implementer - Environment Configuration
# Copy to ~/.clawdbot-orchestrator.env and fill in values
# IMPORTANT: chmod 600 ~/.clawdbot-orchestrator.env

# ═══════════════════════════════════════════════════════════════════
# MODEL API KEYS (Required)
# ═══════════════════════════════════════════════════════════════════

# Z.AI API Key (for GLM 4.7 - used by Clawdbot orchestrator)
# Get from: https://z.ai/dashboard/api-keys
ZAI_API_KEY=your-zai-api-key-here

# Moonshot API Key (for Kimi K2.5 - used by OpenCode implementer)
# Get from: https://platform.moonshot.ai/console
MOONSHOT_API_KEY=your-moonshot-api-key-here

# ═══════════════════════════════════════════════════════════════════
# CLI AUTHENTICATION
# ═══════════════════════════════════════════════════════════════════

# OpenCode, Codex CLI, and Claude Code use their own built-in authentication.
# Make sure you've logged in to each:
#
#   opencode auth login     # For Kimi K2.5 (implementer)
#   codex auth login        # For GPT-5.2-Codex (reviewer)
#   claude                  # Authenticates on first run (planner)
#   gh auth login           # For GitHub PR creation

# ═══════════════════════════════════════════════════════════════════
# NOTIFICATION CREDENTIALS (At least one required)
# ═══════════════════════════════════════════════════════════════════

# WhatsApp via Twilio (Recommended for WhatsApp)
# Get from: https://console.twilio.com
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
NOTIFY_WHATSAPP_TO=whatsapp:+1XXXXXXXXXX

# OR WhatsApp via CallMeBot (Free, simpler)
# Get apikey from: https://www.callmebot.com/blog/free-api-whatsapp-messages/
CALLMEBOT_PHONE=+1XXXXXXXXXX
CALLMEBOT_APIKEY=

# ───────────────────────────────────────────────────────────────────
# Email via Resend (Recommended for email - simple, modern)
# Get from: https://resend.com/api-keys
# ───────────────────────────────────────────────────────────────────
RESEND_API_KEY=re_xxxxxxxxxxxx

# Sender email address
# Use onboarding@resend.dev for testing, or your verified domain for production
RESEND_FROM="Clawdbot <onboarding@resend.dev>"

# Recipient email address for notifications
NOTIFY_EMAIL_TO=your@email.com

# ───────────────────────────────────────────────────────────────────
# Email via SendGrid (Alternative)
# Get from: https://app.sendgrid.com/settings/api_keys
# ───────────────────────────────────────────────────────────────────
SENDGRID_API_KEY=
NOTIFY_EMAIL_FROM=clawdbot@yourdomain.com

# ═══════════════════════════════════════════════════════════════════
# GITHUB CREDENTIALS (For PR creation)
# ═══════════════════════════════════════════════════════════════════

# GitHub CLI should be authenticated via: gh auth login
# Alternatively, set a token:
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx

# ═══════════════════════════════════════════════════════════════════
# MODEL OVERRIDES (Optional - defaults are recommended)
# ═══════════════════════════════════════════════════════════════════

# Context Reformulator Model (after Codex rejects, before Claude)
# Default: zai/glm-4.7 (recommended - 200K context, interleaved thinking)
# REFORMULATOR_MODEL=zai/glm-4.7

# Summarizer Model (for compressing large contexts)
# Default: moonshot/kimi-k2.5-preview (cost-effective)
# SUMMARIZER_MODEL=moonshot/kimi-k2.5-preview

# Normalizer Model (for fixing malformed JSON outputs)
# Default: moonshot/kimi-k2.5-preview (cost-effective)
# NORMALIZER_MODEL=moonshot/kimi-k2.5-preview

# OpenCode Implementer Model
# Default: moonshot/kimi-k2.5-preview
# OPENCODE_MODEL=moonshot/kimi-k2.5-preview

# Codex Reviewer Model
# Default: gpt-5.2-codex
# CODEX_MODEL=gpt-5.2-codex

# ═══════════════════════════════════════════════════════════════════
# ORCHESTRATOR SETTINGS (Optional overrides)
# ═══════════════════════════════════════════════════════════════════

# Worktree location
WORKTREE_BASE=~/ai-worktrees

# Maximum iterations per cycle (Claude → Kimi → Codex)
MAX_ITERATIONS=10

# Context window for stuck detection
STUCK_DETECTION_WINDOW=5

# Parallel tasks
MAX_PARALLEL_TASKS=5

# Default base branch
DEFAULT_BASE_BRANCH=main

# Auto-run tests (true/false)
AUTO_RUN_TESTS=true

# Summarization threshold (chars) - content larger than this gets AI-summarized
SUMMARIZE_THRESHOLD=50000
